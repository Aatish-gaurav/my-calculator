<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comprehensive Scientific Calculator</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.6.4/math.min.js"></script>
<style>
body { background: #f0f0f0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
.calculator { background: #fff; border: 1px solid #444; border-radius: 6px; box-shadow: 0 2px 8px #ccc; padding: 20px; }
.display { width: 100%; height: 50px; font-size: 1.3em; padding: 10px; margin-bottom: 12px; border-radius: 4px; border: 1.5px solid #333; box-sizing: border-box; }
.buttons { display: grid; gap: 6px; grid-template-columns: repeat(6, 1fr); }
button { padding: 11px 0; font-size: 1.09em; border: none; background: #349664; color: #fff; border-radius: 4px; font-weight: 600; cursor: pointer; transition: background 0.15s; }
button:hover { background: #216840; }
@media (max-width: 520px) { .buttons { grid-template-columns: repeat(4, 1fr); } }
</style>
</head>
<body>
<div class="calculator">
  <input type="text" id="display" class="display" readonly />
  <div class="buttons">
    <button onclick="add('(')">(</button>
    <button onclick="add(')')">)</button>
    <button onclick="clearDisplay()">C</button>
    <button onclick="backspace()">⌫</button>
    <button onclick="add('π')">π</button>
    <button onclick="add('e')">e</button>

    <button onclick="add('7')">7</button>
    <button onclick="add('8')">8</button>
    <button onclick="add('9')">9</button>
    <button onclick="add('/')">÷</button>
    <button onclick="add('%')">%</button>
    <button onclick="add('^')">^</button>

    <button onclick="add('4')">4</button>
    <button onclick="add('5')">5</button>
    <button onclick="add('6')">6</button>
    <button onclick="add('*')">×</button>
    <button onclick="add('sqrt(')">√</button>
    <button onclick="add('^2')">x²</button>

    <button onclick="add('1')">1</button>
    <button onclick="add('2')">2</button>
    <button onclick="add('3')">3</button>
    <button onclick="add('-')">−</button>
    <button onclick="add('log(')">log</button>
    <button onclick="add('ln(')">ln</button>

    <button onclick="add('0')">0</button>
    <button onclick="add('.')">.</button>
    <button onclick="toggleSign()">±</button>
    <button onclick="add('+')">+</button>
    <button onclick="add('sin(')">sin</button>
    <button onclick="add('cos(')">cos</button>

    <button onclick="add('tan(')">tan</button>
    <button onclick="add('!')">!</button>
    <button onclick="add('exp(')">exp</button>
    <button onclick="add('abs(')">abs</button>
    <button onclick="add('asin(')">sin⁻¹</button>
    <button onclick="add('acos(')">cos⁻¹</button>

    <button onclick="add('atan(')">tan⁻¹</button>
    <button onclick="calculate()" style="grid-column: span 2;">=</button>
  </div>
</div>
<script>
const display = document.getElementById('display');

function add(val) {
  if (val === 'π') val = 'pi';
  else if (val === 'e') val = 'e';
  display.value += val;
}
function clearDisplay() {
  display.value = '';
}
function backspace() {
  display.value = display.value.slice(0, -1);
}
function toggleSign() {
  if (display.value) {
    if (display.value === '-') display.value = display.value.substring(1);
    else display.value = '-' + display.value;
  }
}
function calculate() {
  let expr = display.value.replace(/(\d+)!/g, 'factorial($1)');
  expr = expr.replace(/π/g, 'pi');
  expr = expr.replace(/÷/g, '/').replace(/×/g, '*').replace(/−/g, '-');
  try {
    const result = math.evaluate(expr);
    display.value = result;
  } catch {
    display.value = "Error";
    setTimeout(() => (display.value = ""), 1500);
  }
}
</script>
</body>
</html>
